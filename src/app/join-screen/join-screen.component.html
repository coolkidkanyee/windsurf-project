<div
  class="grid place-items-center min-h-full gap-8 p-4"
  style="grid-template-rows: auto 1fr auto"
>
  <header class="text-center font-serif">
    <div class="text-6xl sm:text-9xl mt-10">21 Online</div>
    <div class="text-xl mt-8">A multiplayer Blackjack game</div>
  </header>

  <div class="flex flex-col gap-8">
    <mat-form-field class="-mb-4" [hideRequiredMarker]="true">
      <mat-label>Your Name (optional)</mat-label>
      <input
        matInput
        data-cy="playerName-input"
        [formControl]="playerName"
        placeholder="Leave empty for random name"
        maxlength="20"
      />
    </mat-form-field>

    <div class="flex flex-col gap-4">
      <div class="text-center">
        <label class="text-sm text-gray-600">Profile Picture (optional)</label>
      </div>
      <div class="flex items-center justify-center gap-4">
        <div class="w-16 h-16 rounded-full border-2 border-gray-300 overflow-hidden bg-gray-100 flex items-center justify-center">
          <img 
            *ngIf="profilePicturePreview" 
            [src]="profilePicturePreview" 
            alt="Profile preview"
            class="w-full h-full object-cover"
          />
          <span *ngIf="!profilePicturePreview" class="text-gray-400 text-xs">No image</span>
        </div>
        <div class="flex flex-col gap-2">
          <input 
            type="file" 
            #fileInput 
            (change)="onFileSelected($event)"
            accept="image/*"
            class="hidden"
          />
          <button 
            type="button"
            mat-stroked-button
            (click)="fileInput.click()"
            class="text-sm"
          >
            Choose Image
          </button>
          <button 
            type="button"
            mat-stroked-button
            *ngIf="profilePicturePreview"
            (click)="clearProfilePicture()"
            class="text-sm"
          >
            Remove
          </button>
        </div>
      </div>
    </div>

    <button
      mat-raised-button
      color="primary"
      (click)="game.createRoom(playerName.value || '', profilePictureData)"
      [disabled]="game.joinInProgress"
      data-cy="create-btn"
    >
      Create room
    </button>

    <span class="strike-block"> or </span>

    <mat-form-field class="-mb-4" [hideRequiredMarker]="true">
      <mat-label>Room ID</mat-label>
      <input
        matInput
        data-cy="roomId-input"
        [formControl]="roomId"
        (keyup.enter)="roomId.invalid || game.joinRoom(roomId.value!)"
      />
    </mat-form-field>

    <div
      [matTooltip]="joinButtonInvalidTooltip"
      [matTooltipDisabled]="!roomId.invalid"
    >
      <button
        mat-raised-button
        color="primary"
        class="w-full"
        (click)="game.joinRoom(roomId.value!, playerName.value || '', profilePictureData)"
        [disabled]="roomId.invalid || game.joinInProgress"
        data-cy="join-btn"
      >
        Join room
      </button>
    </div>
  </div>

  <footer>
    <a class="text-neutral-400" href="https://github.com/stopnoanime/21-online"
      >View the source on GitHub</a
    >
  </footer>
</div>
